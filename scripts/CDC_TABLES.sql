------------------------
-- TABLES
------------------------
CREATE TABLE SYNCRO_TRANSACTION_CONTROL (
	ID BIGINT NOT NULL IDENTITY PRIMARY KEY,
	INSTANCE_TARGET VARCHAR(100) NOT NULL,
	DATABASE_TARGET VARCHAR(100) NOT NULL,
	SCHEMA_TARGET VARCHAR(50) NOT NULL,
	SOURCE_TABLE VARCHAR(100) NOT NULL,
	TARGET_TABLE VARCHAR(100) NOT NULL,
	MIN_LSN BINARY(10) NOT NULL,
    MAX_LSN BINARY(10) NOT NULL,
    LAST_LSN BINARY(10) NOT NULL DEFAULT 0x00000000000000000000,
    LAST_SEQVAL BINARY(10) NOT NULL DEFAULT 0x00000000000000000000,
    NUM_TRANSACTIONS INT NOT NULL,
    STATUS CHAR(1) NOT NULL,
    REGISTER_DATE DATETIME NOT NULL,
    MEASURED_TIME INT NOT NULL
);

CREATE TABLE SYNCRO_TRANSACTION_ERROR (
    ID BIGINT NOT NULL IDENTITY PRIMARY KEY,
    INSTANCE_TARGET VARCHAR(100) NOT NULL,
	DATABASE_TARGET VARCHAR(100) NOT NULL,
	SCHEMA_TARGET VARCHAR(50) NOT NULL,
	SOURCE_TABLE VARCHAR(100) NOT NULL,
	TARGET_TABLE VARCHAR(100) NOT NULL,
	MIN_LSN BINARY(10) NOT NULL,
    MAX_LSN BINARY(10) NOT NULL,
    LAST_LSN BINARY(10) NOT NULL DEFAULT 0x00000000000000000000,
    LAST_SEQVAL BINARY(10) NOT NULL DEFAULT 0x00000000000000000000,
    NUM_TRANSACTIONS INT NOT NULL,
    FAILED_TRANSACTIONS INT NOT NULL,
    MESSAGE VARCHAR(1000) NOT NULL,
    CODE_SQL_STATE VARCHAR(10) NOT NULL DEFAULT '00000',
    ERROR_CODE INT NOT NULL DEFAULT 0,
    REGISTER_DATE DATETIME NOT NULL
);